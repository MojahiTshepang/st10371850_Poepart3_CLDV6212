@{
    ViewData["Title"] = "Home";
}

<div class="text-center p-5 bg-light rounded-3 mb-5">
    <h1 class="display-4"><i class="fas fa-shopping-bag text-primary"></i> Welcome to ABC Retailers!</h1>
    <p class="lead">Your one-stop shop for the best deals and latest products.</p>
</div>

<div class="row text-center mb-5">
    <div class="col-md-2">
        <a asp-controller="Customer" asp-action="Index" class="btn btn-primary btn-lg w-100 p-4 shadow-sm">
            <i class="fas fa-users fa-2x d-block mb-2"></i>
            <strong>View Customers</strong>
            <small class="d-block">(@ViewBag.CustomerCount total)</small>
        </a>
    </div>
    <div class="col-md-2">
        <a asp-controller="Product" asp-action="Index" class="btn btn-success btn-lg w-100 p-4 shadow-sm">
            <i class="fas fa-boxes fa-2x d-block mb-2"></i>
            <strong>View Products</strong>
            <small class="d-block">(@ViewBag.ProductCount total)</small>
        </a>
    </div>
    <div class="col-md-2">
        <a asp-controller="Order" asp-action="Index" class="btn btn-warning btn-lg w-100 p-4 shadow-sm">
            <i class="fas fa-shopping-cart fa-2x d-block mb-2"></i>
            <strong>View Orders</strong>
            <small class="d-block">(@ViewBag.OrderCount total)</small>
        </a>
    </div>
    <div class="col-md-2">
        <a asp-controller="Upload" asp-action="Index" class="btn btn-info btn-lg w-100 p-4 shadow-sm">
            <i class="fas fa-file-upload fa-2x d-block mb-2"></i>
            <strong>Upload Files</strong>
            <small class="d-block">(Payment proofs)</small>
        </a>
    </div>
    <div class="col-md-2">
        <a asp-controller="Contract" asp-action="Index" class="btn btn-secondary btn-lg w-100 p-4 shadow-sm">
            <i class="fas fa-file-contract fa-2x d-block mb-2"></i>
            <strong>Manage Contracts</strong>
            <small class="d-block">(@ViewBag.ContractCount total)</small>
        </a>
    </div>
</div>

<h3><i class="fas fa-star text-warning"></i> Featured Products</h3>

@if (ViewBag.FeaturedProducts != null && ((IEnumerable<dynamic>)ViewBag.FeaturedProducts).Any())
{
    <div class="row">
        @foreach (var product in ViewBag.FeaturedProducts)
        {
            <div class="col-md-2 text-center mb-4">
                <div class="card h-100">
                    <div class="card-body">
                        @if (!string.IsNullOrEmpty(product.ImageUrl))
                        {
                            <img src="@product.ImageUrl" alt="@product.ProductName" class="img-fluid mb-2" style="height: 100px; object-fit: cover;">
                        }
                        else
                        {
                            <img src="https://via.placeholder.com/150" alt="Product Image" class="img-fluid mb-2">
                        }
                        <h6 class="card-title">@product.ProductName</h6>
                        <p class="card-text text-success">$@product.Price.ToString("F2")</p>
                        <small class="text-muted">Stock @product.StockAvailable</small>
                    </div>
                </div>
            </div>
        }
    </div>
}
else
{
    <div class="alert alert-info">
        <i class="fas fa-info-circle"></i> No products available. <a asp-controller="Product" asp-action="Create" class="alert-link">Add your first product</a>.
    </div>
}

<!-- Azure Services Information Section -->
<div class="row mt-5">
    <div class="col-12">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h4 class="card-title mb-0"><i class="fas fa-cloud me-2"></i>Azure Storage Services</h4>
            </div>
            <div class="card-body">
                <div class="row text-center">
                    <div class="col-md-3">
                        <div class="p-3">
                            <i class="fas fa-table fa-3x text-primary mb-2"></i>
                            <h5>Azure Table Storage</h5>
                            <p class="text-muted">Customers: @ViewBag.CustomerCount</p>
                            <p class="text-muted">Products: @ViewBag.ProductCount</p>
                            <p class="text-muted">Orders: @ViewBag.OrderCount</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="p-3">
                            <i class="fas fa-images fa-3x text-success mb-2"></i>
                            <h5>Azure Blob Storage</h5>
                            <p class="text-muted">Product Images</p>
                            <p class="text-muted">Payment Proofs</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="p-3">
                            <i class="fas fa-tasks fa-3x text-warning mb-2"></i>
                            <h5>Azure Queue Storage</h5>
                            <p class="text-muted">Order Processing</p>
                            <p class="text-muted">Background Workflows</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="p-3">
                            <i class="fas fa-file-contract fa-3x text-info mb-2"></i>
                            <h5>Azure Files</h5>
                            <p class="text-muted">Contracts: @ViewBag.ContractCount</p>
                            <p class="text-muted">Document Storage</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>